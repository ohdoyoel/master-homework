## 고급 자료형

### Map / WeakMap

ES6에서 도입된 어떤 형태의 키를 받아 키-값 쌍을 저장하는 컬렉션 자료형

기본 특징

- 키 타입 다양성 : 객체와 달리 모든 타입(객체, 함수, 원시값 등)을 키로 사용 가능
- 순서 보장 : 삽입 순서가 유지됨
- 크기 추적 : size 프로퍼티 제공 -> 쉽게 요소의 개수 확인 가능
- 전용 메서드 : 맵 전용 유용한 메서드 제공
- 성능 : 삭제 추가에 있어 객체보다 이점 존재

이러한 기본 특징이 곧 Object보다 Map을 사용해야하는 이유가 된다. Map의 강점을 알고 있어야 실제 개발에서 적극적으로 활용할 수 있다.

#### 왜 Map이 Object에 비해 추가 삭제에 있어 성능이 좋은가?

Map은 해시 테이블 기반 구현 -> 평균적으로 O(1) 시간 복잡도를 가진다. 물론 객체도 O(1) 시간 복잡도에 준하지만, 차이가 있다.

V8 엔진에서는 객체를 생성할 때마다 해당 객체의 "모양" (프로퍼티 구조)에 따라 Hidden Class라는 것을 동적으로 생성한다. 객체에 새 프로퍼티가 추가되면 새로운 Hidden Class가 생성되고, 기존 객체는 이 새 클래스를 참조하도록 업데이트된다.
